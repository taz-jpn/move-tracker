# ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ—ã‚¢ãƒ—ãƒªè¨­è¨ˆææ¡ˆæ›¸

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ã‚¢ãƒ—ãƒªåï¼ˆä»®ç§°ï¼‰
**MoveTracker** - ç§»å‹•è¨˜éŒ²ï¼†ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ—ãƒª

### 1.2 ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
æ—¥å¸¸ã®ç§»å‹•ã‚’è¨˜éŒ²ã—ã€ç§»å‹•æ‰‹æ®µã”ã¨ã«ã‚¹ã‚³ã‚¢åŒ–ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ´»å‹•ã‚’å¯è¦–åŒ–ãƒ»ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª

### 1.3 ä¸»è¦æ©Ÿèƒ½
- OpenStreetMapãƒ™ãƒ¼ã‚¹ã®åœ°å›³è¡¨ç¤º
- GPSã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä½ç½®è¿½è·¡
- ç§»å‹•è»Œè·¡ã®è¨˜éŒ²ãƒ»è¡¨ç¤º
- é€Ÿåº¦ãƒ™ãƒ¼ã‚¹ã®ç§»å‹•æ‰‹æ®µè‡ªå‹•åˆ¤å®š
- ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ 

---

## 2. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### 2.1 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
| æŠ€è¡“ | ç”¨é€” |
|------|------|
| **React** | UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| **TypeScript** | å‹å®‰å…¨ãªé–‹ç™º |
| **Capacitor.js** | ãƒã‚¤ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆGPSç­‰ï¼‰ |
| **Leaflet** | åœ°å›³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| **react-leaflet** | Reactã¨Leafletã®çµ±åˆ |

### 2.2 åœ°å›³ãƒ‡ãƒ¼ã‚¿
| æŠ€è¡“ | ç”¨é€” |
|------|------|
| **OpenStreetMap** | åœ°å›³ã‚¿ã‚¤ãƒ«ãƒ‡ãƒ¼ã‚¿ |
| **Leaflet TileLayer** | OSMã‚¿ã‚¤ãƒ«è¡¨ç¤º |

### 2.3 ãƒã‚¤ãƒ†ã‚£ãƒ–æ©Ÿèƒ½
| ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ | ç”¨é€” |
|------------|------|
| **@capacitor/geolocation** | GPSä½ç½®æƒ…å ±å–å¾— |
| **@capacitor/preferences** | ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ä¿å­˜ |
| **@capacitor/app** | ã‚¢ãƒ—ãƒªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç† |

### 2.4 ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
| æŠ€è¡“ | ç”¨é€” |
|------|------|
| **IndexedDB** (Dexie.js) | è»Œè·¡ãƒ‡ãƒ¼ã‚¿ã®ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ |
| **Capacitor Preferences** | è¨­å®šãƒ»ã‚¹ã‚³ã‚¢ä¿å­˜ |

---

## 3. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    React Application                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Map View   â”‚  â”‚  Score View â”‚  â”‚  History View   â”‚ â”‚
â”‚  â”‚  (Leaflet)  â”‚  â”‚             â”‚  â”‚                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    State Management                      â”‚
â”‚              (React Context / Zustand)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Services Layer                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Location  â”‚ â”‚  Track    â”‚ â”‚    Score      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Service   â”‚ â”‚  Service  â”‚ â”‚   Service     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Capacitor Bridge                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     GPS     â”‚  â”‚  Storage    â”‚  â”‚  Background     â”‚ â”‚
â”‚  â”‚  (Native)   â”‚  â”‚  (Native)   â”‚  â”‚  Task (Native)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ç”»é¢è¨­è¨ˆ

### 4.1 ç”»é¢ä¸€è¦§

| ç”»é¢ | èª¬æ˜ |
|------|------|
| **ãƒ¡ã‚¤ãƒ³ç”»é¢ï¼ˆåœ°å›³ï¼‰** | åœ°å›³è¡¨ç¤ºã€ç¾åœ¨åœ°ã€è»Œè·¡è¡¨ç¤ºã€ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°æ“ä½œ |
| **ã‚¹ã‚³ã‚¢ç”»é¢** | ç§»å‹•æ‰‹æ®µåˆ¥ã‚¹ã‚³ã‚¢è¡¨ç¤ºã€çµ±è¨ˆã‚°ãƒ©ãƒ• |
| **å±¥æ­´ç”»é¢** | éå»ã®ç§»å‹•è¨˜éŒ²ä¸€è¦§ã€è©³ç´°è¡¨ç¤º |
| **è¨­å®šç”»é¢** | ã‚¢ãƒ—ãƒªè¨­å®šã€ãƒ‡ãƒ¼ã‚¿ç®¡ç† |

### 4.2 ãƒ¡ã‚¤ãƒ³ç”»é¢ï¼ˆåœ°å›³ï¼‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Status Bar               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚                                    â”‚
â”‚         OpenStreetMap              â”‚
â”‚                                    â”‚
â”‚            ğŸ“ ç¾åœ¨åœ°               â”‚
â”‚         ~~~~è»Œè·¡~~~~               â”‚
â”‚                                    â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€Ÿåº¦: 5.2 km/h  â”‚  ç§»å‹•: å¾’æ­©     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [é–‹å§‹]    [åœæ­¢]    [ãƒªã‚»ãƒƒãƒˆ]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ—ºï¸ Map  â”‚  ğŸ† Score  â”‚  ğŸ“‹ History â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. é€Ÿåº¦åˆ¤å®šãƒ»ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ 

### 5.1 é€Ÿåº¦å¸¯ã¨ç§»å‹•æ‰‹æ®µã®åˆ†é¡

| é€Ÿåº¦å¸¯ | ç§»å‹•æ‰‹æ®µ | ã‚¹ã‚³ã‚¢å€ç‡ |
|--------|----------|------------|
| **3ã€œ6 km/h** | å¾’æ­© | 3.0x |
| **7ã€œ29 km/h** | è‡ªè»¢è»Š | 2.0x |
| **30 km/hä»¥ä¸Š** | è»Šãƒ»åˆ—è»Š | 1.0x |
| **3 km/hæœªæº€** | åœæ­¢ï¼ˆã‚«ã‚¦ãƒ³ãƒˆå¤–ï¼‰ | 0x |

### 5.2 ã‚¹ã‚³ã‚¢è¨ˆç®—å¼

```
åŸºæœ¬ã‚¹ã‚³ã‚¢ = ç§»å‹•æ™‚é–“ï¼ˆåˆ†ï¼‰Ã— é€Ÿåº¦å€ç‡

ä¾‹ï¼š
- å¾’æ­©ã§30åˆ†ç§»å‹• â†’ 30 Ã— 3.0 = 90ãƒã‚¤ãƒ³ãƒˆ
- è‡ªè»¢è»Šã§30åˆ†ç§»å‹• â†’ 30 Ã— 2.0 = 60ãƒã‚¤ãƒ³ãƒˆ
- è»Šã§30åˆ†ç§»å‹• â†’ 30 Ã— 1.0 = 30ãƒã‚¤ãƒ³ãƒˆ
```

### 5.3 é€Ÿåº¦åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯

```typescript
type TransportMode = 'walking' | 'cycling' | 'vehicle' | 'stationary';

function detectTransportMode(speedKmh: number): TransportMode {
  if (speedKmh < 3) return 'stationary';
  if (speedKmh >= 3 && speedKmh <= 6) return 'walking';
  if (speedKmh >= 7 && speedKmh <= 29) return 'cycling';
  return 'vehicle'; // 30 km/hä»¥ä¸Š
}
```

---

## 6. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### 6.1 ä½ç½®ãƒ‡ãƒ¼ã‚¿ (LocationPoint)

```typescript
interface LocationPoint {
  id: string;
  timestamp: number;        // Unix timestamp
  latitude: number;
  longitude: number;
  accuracy: number;         // ãƒ¡ãƒ¼ãƒˆãƒ«
  speed: number | null;     // m/s (GPSã‹ã‚‰å–å¾—)
  speedKmh: number | null;  // km/h (è¨ˆç®—å€¤)
}
```

### 6.2 ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³ (TrackSession)

```typescript
interface TrackSession {
  id: string;
  startTime: number;
  endTime: number | null;
  points: LocationPoint[];
  status: 'active' | 'paused' | 'completed';
  totalDistance: number;    // ãƒ¡ãƒ¼ãƒˆãƒ«
  duration: number;         // ç§’
  segments: SpeedSegment[];
}
```

### 6.3 é€Ÿåº¦åŒºé–“ (SpeedSegment)

```typescript
interface SpeedSegment {
  mode: TransportMode;
  startIndex: number;
  endIndex: number;
  duration: number;         // ç§’
  distance: number;         // ãƒ¡ãƒ¼ãƒˆãƒ«
  averageSpeed: number;     // km/h
  score: number;
}
```

### 6.4 ã‚¹ã‚³ã‚¢ãƒ‡ãƒ¼ã‚¿ (ScoreData)

```typescript
interface ScoreData {
  totalScore: number;
  walkingScore: number;
  walkingTime: number;      // ç§’
  cyclingScore: number;
  cyclingTime: number;      // ç§’
  vehicleScore: number;
  vehicleTime: number;      // ç§’
  lastUpdated: number;
}
```

---

## 7. ä¸»è¦æ©Ÿèƒ½ã®å®Ÿè£…æ–¹é‡

### 7.1 GPS ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

```typescript
// Capacitor Geolocation ã‚’ä½¿ç”¨
import { Geolocation } from '@capacitor/geolocation';

// é«˜ç²¾åº¦ã§ã®ä½ç½®æƒ…å ±å–å¾—
const watchId = await Geolocation.watchPosition(
  {
    enableHighAccuracy: true,
    timeout: 10000,
    maximumAge: 0,
  },
  (position, err) => {
    if (position) {
      // ä½ç½®æƒ…å ±ã‚’å‡¦ç†
      handleLocationUpdate(position);
    }
  }
);
```

### 7.2 åœ°å›³è¡¨ç¤º (Leaflet + OpenStreetMap)

```typescript
// OpenStreetMap ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¤ãƒ¤ãƒ¼
const osmTileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
const attribution = '&copy; OpenStreetMap contributors';
```

### 7.3 è»Œè·¡ã®æç”»

```typescript
// react-leaflet ã® Polyline ã‚’ä½¿ç”¨
<Polyline
  positions={trackPoints.map(p => [p.latitude, p.longitude])}
  pathOptions={{
    color: getColorByMode(currentMode), // ç§»å‹•æ‰‹æ®µã§è‰²åˆ†ã‘
    weight: 4,
  }}
/>
```

### 7.4 ç§»å‹•æ‰‹æ®µåˆ¥ã®è»Œè·¡è‰²

| ç§»å‹•æ‰‹æ®µ | è‰² |
|----------|-----|
| å¾’æ­© | ç·‘ (#22c55e) |
| è‡ªè»¢è»Š | é’ (#3b82f6) |
| è»Šãƒ»åˆ—è»Š | ã‚ªãƒ¬ãƒ³ã‚¸ (#f97316) |
| åœæ­¢ | ã‚°ãƒ¬ãƒ¼ (#9ca3af) |

---

## 8. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
map-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Map/
â”‚   â”‚   â”‚   â”œâ”€â”€ MapView.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CurrentLocationMarker.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TrackPolyline.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ Score/
â”‚   â”‚   â”‚   â”œâ”€â”€ ScoreBoard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ScoreChart.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ Track/
â”‚   â”‚   â”‚   â”œâ”€â”€ TrackControls.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SpeedIndicator.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚       â”œâ”€â”€ Button.tsx
â”‚   â”‚       â”œâ”€â”€ Card.tsx
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ MapPage.tsx
â”‚   â”‚   â”œâ”€â”€ ScorePage.tsx
â”‚   â”‚   â”œâ”€â”€ HistoryPage.tsx
â”‚   â”‚   â””â”€â”€ SettingsPage.tsx
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ locationService.ts
â”‚   â”‚   â”œâ”€â”€ trackService.ts
â”‚   â”‚   â”œâ”€â”€ scoreService.ts
â”‚   â”‚   â””â”€â”€ storageService.ts
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useGeolocation.ts
â”‚   â”‚   â”œâ”€â”€ useTracking.ts
â”‚   â”‚   â””â”€â”€ useScore.ts
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”œâ”€â”€ trackStore.ts
â”‚   â”‚   â””â”€â”€ scoreStore.ts
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ speedCalculation.ts
â”‚   â”‚   â”œâ”€â”€ distanceCalculation.ts
â”‚   â”‚   â””â”€â”€ formatters.ts
â”‚   â”œâ”€â”€ App.tsx
â”‚   â””â”€â”€ main.tsx
â”œâ”€â”€ public/
â”œâ”€â”€ android/
â”œâ”€â”€ ios/
â”œâ”€â”€ capacitor.config.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ vite.config.ts
```

---

## 9. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: åŸºç›¤æ§‹ç¯‰
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆVite + React + TypeScriptï¼‰
- [ ] Capacitorã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] åŸºæœ¬çš„ãªUI/ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰

### Phase 2: åœ°å›³æ©Ÿèƒ½
- [ ] Leaflet + OpenStreetMapçµ±åˆ
- [ ] åœ°å›³è¡¨ç¤ºãƒ»æ“ä½œæ©Ÿèƒ½
- [ ] ç¾åœ¨åœ°å–å¾—ãƒ»è¡¨ç¤º

### Phase 3: ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°æ©Ÿèƒ½
- [ ] GPSãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°å®Ÿè£…
- [ ] è»Œè·¡ã®è¨˜éŒ²ãƒ»è¡¨ç¤º
- [ ] é€Ÿåº¦è¨ˆç®—ãƒ»ç§»å‹•æ‰‹æ®µåˆ¤å®š

### Phase 4: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°æ©Ÿèƒ½
- [ ] ã‚¹ã‚³ã‚¢è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
- [ ] ã‚¹ã‚³ã‚¢è¡¨ç¤ºUI
- [ ] ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–

### Phase 5: ä»•ä¸Šã’
- [ ] å±¥æ­´æ©Ÿèƒ½
- [ ] ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- [ ] iOS/Androidãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆ

---

## 10. å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```json
{
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.x",
    "leaflet": "^1.9.x",
    "react-leaflet": "^4.x",
    "@capacitor/core": "^5.x",
    "@capacitor/geolocation": "^5.x",
    "@capacitor/preferences": "^5.x",
    "@capacitor/app": "^5.x",
    "dexie": "^3.x",
    "zustand": "^4.x"
  },
  "devDependencies": {
    "@capacitor/cli": "^5.x",
    "@capacitor/android": "^5.x",
    "@capacitor/ios": "^5.x",
    "typescript": "^5.x",
    "vite": "^5.x",
    "@vitejs/plugin-react": "^4.x"
  }
}
```

---

## 11. è€ƒæ…®äº‹é …

### 11.1 ãƒãƒƒãƒ†ãƒªãƒ¼æ¶ˆè²»
- GPSã®å–å¾—é–“éš”ã‚’é©åˆ‡ã«è¨­å®šï¼ˆç§»å‹•ä¸­: 3-5ç§’ã€åœæ­¢æ™‚: 15-30ç§’ï¼‰
- ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰æ™‚ã®æœ€é©åŒ–

### 11.2 ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼
- ä½ç½®æƒ…å ±ã®å–ã‚Šæ‰±ã„æ˜ç¤º
- ãƒ‡ãƒ¼ã‚¿ã¯ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ï¼ˆã‚µãƒ¼ãƒãƒ¼é€ä¿¡ãªã—ï¼‰
- ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/å‰Šé™¤æ©Ÿèƒ½

### 11.3 ç²¾åº¦
- GPSç²¾åº¦ãŒä½ã„å ´åˆã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- é€Ÿåº¦ã®ç•°å¸¸å€¤é™¤å¤–ï¼ˆç¬é–“çš„ãªGPSã‚¸ãƒ£ãƒ³ãƒ—å¯¾ç­–ï¼‰

### 11.4 ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
- åœ°å›³ã‚¿ã‚¤ãƒ«ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ç¶™ç¶š

---

## 12. ä»Šå¾Œã®æ‹¡å¼µæ¡ˆ

- ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸæ©Ÿèƒ½
- ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æ©Ÿèƒ½ï¼ˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€å…±æœ‰ï¼‰
- ãƒ«ãƒ¼ãƒˆå…±æœ‰ãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- Apple Watch / Wear OS é€£æº
- ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå¯¾å¿œ
